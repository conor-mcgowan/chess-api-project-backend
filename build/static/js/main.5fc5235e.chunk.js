(this["webpackJsonpapi-project"]=this["webpackJsonpapi-project"]||[]).push([[0],{30:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(15),a=n.n(s),i=(n(30),n(8)),l=n(3),j=n(13),o=n.n(j),u=n(17),h=n(9),b=n(12),d="Set Search";n(36);var m=n(1),x={setUser:function(e){return{type:"Set User",username:e}}};var O=Object(b.b)((function(e){return{}}),x)((function(e){var t=Object(l.g)(),n=Object(c.useState)(""),r=Object(h.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(""),j=Object(h.a)(i,2),b=j[0],d=j[1],x=Object(c.useState)(""),O=Object(h.a)(x,2),p=O[0],f=O[1];function g(){return(g=Object(u.a)(o.a.mark((function n(){var c,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f(""),!(s.length<4||s.length>20||b.length<7||b.length>20)){n.next=4;break}return f("Invalid username or password."),n.abrupt("return");case 4:return n.prev=4,n.next=7,fetch("/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:b})});case 7:return c=n.sent,n.next=10,c.json();case 10:(r=n.sent).error?f(r.error):(e.setUser(r.data.username),t.push("/home")),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),f("Something went wrong, please try again.");case 17:case"end":return n.stop()}}),n,null,[[4,14]])})))).apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center",children:"Login"}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("label",{className:"label text-center",htmlFor:"username",children:"Username"}),Object(m.jsx)("input",{className:"input",value:s,onChange:function(e){return a(e.target.value)},type:"text",id:"username"})]}),Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("label",{className:"label text-center",htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{className:"input",value:b,onChange:function(e){return d(e.target.value)},type:"password",id:"password"})]}),Object(m.jsx)("button",{className:"submit",onClick:function(){return function(){return g.apply(this,arguments)}()},children:"Log In"}),p.length>0&&Object(m.jsx)("div",{className:"error",children:p})]})]})})),p=(n(39),function(e){e.liPuzzle;return Object(m.jsxs)("div",{className:"li-puzzle-container",children:[Object(m.jsx)("h3",{className:"text-center"}),Object(m.jsx)("iframe",{src:"https://lichess.org/training/frame?theme=brown&bg=dark",className:"li-puzzle",allowtransparency:"true",frameborder:"0"})]})}),f=(n(40),n(41),function(e){var t=e.user;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"text-center",children:t.username}),!1===t.online&&Object(m.jsx)("h4",{className:"text-center",children:"Offline"}),t.online&&Object(m.jsx)("h4",{className:"text-center",children:"Online"}),t.perfs&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("h4",{className:"text-center",children:["Classical rating: ",t.perfs.classical.rating]}),t.perfs.puzzle&&Object(m.jsxs)("h4",{className:"text-center",children:["Puzzle rating: ",t.perfs.puzzle.rating]})]}),Object(m.jsx)("h4",{}),Object(m.jsx)("h4",{})]})}),g=(n(42),{setSearch:function(e){return{type:d,search:e}}});var v=Object(b.b)((function(e){return{user:e.search}}),g)((function(e){var t=Object(c.useState)(""),n=Object(h.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(""),i=Object(h.a)(a,2),l=i[0],j=i[1];function b(){return(b=Object(u.a)(o.a.mark((function t(n){var c,r,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="https://lichess.org/api/user/".concat(n),t.prev=1,s(""),t.next=5,fetch(c);case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,i={username:a.username,online:a.online,perfs:a.perfs,playtime:a.playTime,streaming:a.streaming},console.log(i),e.setSearch(i),console.log(i),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),s("Something went wrong. Please try again later!"),e.setSearch([]);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(p,{})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Lichess User Search"}),Object(m.jsx)("label",{htmlFor:"user-search",children:"Search by Username "}),Object(m.jsx)("input",{id:"user-search",value:l,onChange:function(e){return j(e.target.value)}}),Object(m.jsx)("button",{onClick:function(){return l.length>2&&function(e){return b.apply(this,arguments)}(l)},children:"Search"}),Object(m.jsxs)("article",{className:"results-container",children:[r.length>0&&Object(m.jsx)("h1",{children:r}),0===r.length&&Object(m.jsx)(f,{user:e.user})]})]})]})})),N=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Studies Area"})})})},S=(n(43),function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"OTB Game Display Area"})})})}),y=n(11);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.search;default:return e}},k=Object(y.b)({search:w}),C=Object(y.c)(k);n(44);var F=function(){return Object(m.jsx)(b.a,{store:C,children:Object(m.jsx)(i.a,{children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("nav",{className:"menu",children:[Object(m.jsx)(i.b,{to:"/login",className:"link text-center",activeClassName:"active-link",children:"Login"}),Object(m.jsx)(i.b,{to:"/home",className:"link text-center",activeClassName:"active-link",children:"Homepage"}),Object(m.jsx)(i.b,{to:"/studies",className:"link text-center",activeClassName:"active-link",children:"Lichess Studies"}),Object(m.jsx)(i.b,{to:"/otbgames",className:"link text-center",activeClassName:"active-link",children:"OTB Games by FEN"})]}),Object(m.jsx)("main",{className:"main-container",children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{path:"/login",component:O}),Object(m.jsx)(l.b,{path:"/home",component:v}),Object(m.jsx)(l.b,{path:"/studies",component:N}),Object(m.jsx)(l.b,{path:"/otbgames",component:S}),Object(m.jsx)(l.b,{path:"*",children:Object(m.jsx)(l.a,{to:"/home"})})]})})]})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root")),z()}},[[45,1,2]]]);
//# sourceMappingURL=main.5fc5235e.chunk.js.map