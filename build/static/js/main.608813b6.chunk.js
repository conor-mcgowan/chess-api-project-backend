(this["webpackJsonpapi-project"]=this["webpackJsonpapi-project"]||[]).push([[0],{40:function(e,t,n){},64:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(17),c=n.n(a),i=(n(40),n(11)),l=n(3),u=n(10),o=n.n(u),j=n(14),b=n(9),h=n(12),d="Set Search";function m(e){return{type:"Set User",username:e}}var p=n(19),x=n.n(p),O=(n(64),n(1)),g={setUser:m};var f=Object(h.b)((function(e){return{}}),g)((function(e){var t=Object(l.g)(),n=Object(r.useState)(""),s=Object(b.a)(n,2),a=s[0],c=s[1],i=Object(r.useState)(""),u=Object(b.a)(i,2),h=u[0],d=u[1],m=Object(r.useState)(""),p=Object(b.a)(m,2),g=p[0],f=p[1];function v(){return(v=Object(j.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f(""),!(a.length<5||a.length>20)){n.next=4;break}return f("Username must be between five and 20 characters inclusive."),n.abrupt("return");case 4:if(!(h.length<7||h.length>20)){n.next=7;break}return f("Password must be between seven and 20 characters inclusive."),n.abrupt("return");case 7:return n.prev=7,n.next=10,x.a.post("/users/signup",{username:a,password:h});case 10:(r=n.sent).data.error?f(r.data.error):(e.setUser(r.data.data.username),t.push("/search")),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),f("Something went wrong, please try again later!");case 17:case"end":return n.stop()}}),n,null,[[7,14]])})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center",children:"Signup"}),Object(O.jsxs)("div",{className:"form",children:[Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsx)("label",{className:"label text-center",htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{className:"input",value:a,onChange:function(e){return c(e.target.value)},type:"text",id:"username"})]}),Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsx)("label",{className:"label text-center",htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{className:"input",value:h,onChange:function(e){return d(e.target.value)},type:"password",id:"password"})]}),Object(O.jsx)("button",{className:"submit",onClick:function(){return function(){return v.apply(this,arguments)}()},children:"Sign Up"}),g.length>0&&Object(O.jsx)("div",{className:"error",children:g})]})]})})),v=(n(67),{setUser:m});var N=Object(h.b)((function(e){return{}}),v)((function(e){var t=Object(l.g)(),n=Object(r.useState)(""),s=Object(b.a)(n,2),a=s[0],c=s[1],i=Object(r.useState)(""),u=Object(b.a)(i,2),h=u[0],d=u[1],m=Object(r.useState)(""),p=Object(b.a)(m,2),g=p[0],f=p[1];function v(){return(v=Object(j.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f(""),!(a.length<4||a.length>20||h.length<7||h.length>20)){n.next=4;break}return f("Invalid username or password."),n.abrupt("return");case 4:return n.prev=4,n.next=7,x.a.post("/users/login",{username:a,password:h});case 7:(r=n.sent).data.error?f(r.data.error):(e.setUser(r.data.data.username),t.push("/homepage")),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.log(n.t0),console.log(JSON.data),f("Something went wrong, please try again.");case 16:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center",children:"Login"}),Object(O.jsxs)("div",{className:"form",children:[Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsx)("label",{className:"label text-center",htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{className:"input",value:a,onChange:function(e){return c(e.target.value)},type:"text",id:"username"})]}),Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsx)("label",{className:"label text-center",htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{className:"input",value:h,onChange:function(e){return d(e.target.value)},type:"password",id:"password"})]}),Object(O.jsx)("button",{className:"submit",onClick:function(){return function(){return v.apply(this,arguments)}()},children:"Log In"}),g.length>0&&Object(O.jsx)("div",{className:"error",children:g})]})]})})),w=(n(68),function(e){e.liPuzzle;return Object(O.jsxs)("div",{className:"li-puzzle-container",children:[Object(O.jsx)("h3",{className:"text-center"}),Object(O.jsx)("iframe",{src:"https://lichess.org/training/frame?theme=brown&bg=dark",className:"li-puzzle",allowtransparency:"true",frameborder:"0"})]})}),S=(n(69),n(70),function(e){var t=e.user;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"text-center",children:t.username}),!1===t.online&&Object(O.jsx)("h4",{className:"text-center",children:"Offline"}),t.online&&Object(O.jsx)("h4",{className:"text-center",children:"Online"}),t.perfs&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("h4",{className:"text-center",children:["Classical rating: ",t.perfs.classical.rating]}),t.perfs.puzzle&&Object(O.jsxs)("h4",{className:"text-center",children:["Puzzle rating: ",t.perfs.puzzle.rating]})]}),Object(O.jsx)("h4",{}),Object(O.jsx)("h4",{})]})}),k=(n(71),{setSearch:function(e){return{type:d,search:e}}});var y=Object(h.b)((function(e){return{user:e.search}}),k)((function(e){var t=Object(r.useState)(""),n=Object(b.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)(""),i=Object(b.a)(c,2),l=i[0],u=i[1];function h(){return(h=Object(j.a)(o.a.mark((function t(n){var r,s,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://lichess.org/api/user/".concat(n),t.prev=1,a(""),t.next=5,fetch(r);case 5:return s=t.sent,t.next=8,s.json();case 8:c=t.sent,i={username:c.username,online:c.online,perfs:c.perfs,playtime:c.playTime,streaming:c.streaming},console.log(i),e.setSearch(i),console.log(i),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),a("Something went wrong. Please try again later!"),e.setSearch([]);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsx)(w,{})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Lichess User Search"}),Object(O.jsx)("label",{htmlFor:"user-search",children:"Search by Username "}),Object(O.jsx)("input",{id:"user-search",value:l,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)("button",{onClick:function(){return l.length>2&&function(e){return h.apply(this,arguments)}(l)},children:"Search"}),Object(O.jsxs)("article",{className:"results-container",children:[s.length>0&&Object(O.jsx)("h1",{children:s}),0===s.length&&Object(O.jsx)(S,{user:e.user})]})]})]})})),C=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Studies Area"})})})},F=(n(72),function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"OTB Game Display Area"})})})}),z=n(15);var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.search;default:return e}},P=Object(z.b)({search:U}),L=Object(z.c)(P);n(73);var T=function(){return Object(O.jsx)(h.a,{store:L,children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("nav",{className:"menu",children:[Object(O.jsx)(i.b,{to:"/signup",className:"link text-center",activeClassName:"active-link",children:"Signup"}),Object(O.jsx)(i.b,{to:"/login",className:"link text-center",activeClassName:"active-link",children:"Login"}),Object(O.jsx)(i.b,{to:"/home",className:"link text-center",activeClassName:"active-link",children:"Homepage"}),Object(O.jsx)(i.b,{to:"/studies",className:"link text-center",activeClassName:"active-link",children:"Lichess Studies"}),Object(O.jsx)(i.b,{to:"/otbgames",className:"link text-center",activeClassName:"active-link",children:"OTB Games by FEN"})]}),Object(O.jsx)("main",{className:"main-container",children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{path:"/signup",component:f}),Object(O.jsx)(l.b,{path:"/login",component:N}),Object(O.jsx)(l.b,{path:"/home",component:y}),Object(O.jsx)(l.b,{path:"/studies",component:C}),Object(O.jsx)(l.b,{path:"/otbgames",component:F}),Object(O.jsx)(l.b,{path:"*",children:Object(O.jsx)(l.a,{to:"/home"})})]})})]})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),B()}},[[74,1,2]]]);
//# sourceMappingURL=main.608813b6.chunk.js.map